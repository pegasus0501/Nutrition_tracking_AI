{% extends "base.html" %}
{% block content %}

<div class="page-header">
  <div>
    <h1 class="page-title">ğŸ“ Personal Information</h1>
    <p class="page-subtitle">
      Set your personal details to help calculate your metabolic rate and adjust calorie goals.
    </p>
  </div>
  <div class="page-header-actions">
    <a href="/dashboard" class="btn-secondary">â† Back to dashboard</a>
  </div>
</div>

<section class="card personal-info-card">
  <form method="post" action="/personal-info" class="personal-info-form">
    <div class="form-two-columns">
      <!-- Left Column -->
      <div class="form-column">
        <div class="form-field">
          <label for="name">
            <span class="field-icon">ğŸ‘¤</span>
            Name
          </label>
          <input
            id="name"
            name="name"
            type="text"
            placeholder="Enter your name"
            value="{{ personal_info.name if personal_info and personal_info.name else '' }}"
          >
        </div>

        <div class="form-field">
          <label for="weight_kg">
            <span class="field-icon">âš–ï¸</span>
            Weight (kg)
          </label>
          <input
            id="weight_kg"
            name="weight_kg"
            type="number"
            step="0.1"
            min="0"
            placeholder="e.g. 70.5"
            value="{{ personal_info.weight_kg if personal_info and personal_info.weight_kg is not none else '' }}"
          >
          <p class="field-hint">Enter your current weight</p>
        </div>

        <div class="form-field">
          <label for="gender">
            <span class="field-icon">âš§ï¸</span>
            Gender
          </label>
          <select id="gender" name="gender" class="form-select">
            <option value="">Select gender</option>
            <option value="Male" {% if personal_info and personal_info.gender == "Male" %}selected{% endif %}>Male</option>
            <option value="Female" {% if personal_info and personal_info.gender == "Female" %}selected{% endif %}>Female</option>
            <option value="Other" {% if personal_info and personal_info.gender == "Other" %}selected{% endif %}>Other</option>
          </select>
          <p class="field-hint">Used for metabolic calculations</p>
        </div>

        <div class="form-field">
          <label for="weight_goal">
            <span class="field-icon">ğŸ¯</span>
            Weight Goal
          </label>
          <select id="weight_goal" name="weight_goal" class="form-select">
            <option value="">Select weight goal</option>
            <option value="Lose" {% if personal_info and personal_info.weight_goal == "Lose" %}selected{% endif %}>Lose weight</option>
            <option value="Maintain" {% if personal_info and personal_info.weight_goal == "Maintain" %}selected{% endif %}>Maintain current weight</option>
            <option value="Gain" {% if personal_info and personal_info.weight_goal == "Gain" %}selected{% endif %}>Gain weight</option>
          </select>
          <div class="weight-goal-info">
            <p class="info-title">This adjusts your daily calorie goal:</p>
            <ul class="info-list">
              <li>â€¢ <strong>Lose weight:</strong> -500 calories per day</li>
              <li>â€¢ <strong>Maintain:</strong> No adjustment</li>
              <li>â€¢ <strong>Gain weight:</strong> +500 calories per day</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Right Column -->
      <div class="form-column">
        <div class="form-field">
          <label for="age">
            <span class="field-icon">ğŸ‚</span>
            Age (years)
          </label>
          <input
            id="age"
            name="age"
            type="number"
            step="1"
            min="0"
            max="150"
            placeholder="e.g. 30"
            value="{{ personal_info.age if personal_info and personal_info.age is not none else '' }}"
          >
          <p class="field-hint">Used for calculating your metabolic rate</p>
        </div>

        <div class="form-field">
          <label for="height_cm">
            <span class="field-icon">ğŸ“</span>
            Height (cm)
          </label>
          <input
            id="height_cm"
            name="height_cm"
            type="number"
            step="0.1"
            min="0"
            placeholder="e.g. 175.0"
            value="{{ personal_info.height_cm if personal_info and personal_info.height_cm is not none else '' }}"
          >
          <p class="field-hint">Enter your height in centimeters</p>
        </div>

        <div class="form-field">
          <label for="activity_level">
            <span class="field-icon">ğŸƒ</span>
            Activity Level
          </label>
          <select id="activity_level" name="activity_level" class="form-select">
            <option value="">Select activity level</option>
            <option value="Sedentary" {% if personal_info and personal_info.activity_level == "Sedentary" %}selected{% endif %}>Sedentary (little or no exercise)</option>
            <option value="Light" {% if personal_info and personal_info.activity_level == "Light" %}selected{% endif %}>Light (exercise 1-3 times/week)</option>
            <option value="Moderate" {% if personal_info and personal_info.activity_level == "Moderate" %}selected{% endif %}>Moderate (exercise 3-5 times/week)</option>
            <option value="Active" {% if personal_info and personal_info.activity_level == "Active" %}selected{% endif %}>Active (exercise 6-7 times/week)</option>
            <option value="Very Active" {% if personal_info and personal_info.activity_level == "Very Active" %}selected{% endif %}>Very Active (hard exercise daily)</option>
          </select>
        </div>
      </div>
    </div>

    <div class="form-actions">
      <button type="submit" class="btn-primary">Save Personal Information</button>
    </div>
  </form>
</section>

{% endblock %}